var O=["::-webkit-scrollbar-thumb"],u={hover:"hover",active:"active",focusVisible:"focus-visible",focusWithin:"focus-within",focus:"focus",visited:"visited",link:"link",target:"target"};const{DOCS_RENDERED:g,STORY_CHANGED:R,STORY_RENDERED:w,UPDATE_GLOBALS:$}=__STORYBOOK_MODULE_CORE_EVENTS__,{addons:b,useEffect:S,useMemo:A}=__STORYBOOK_MODULE_PREVIEW_API__;var D=e=>e.indexOf("@")===0,T=e=>{if(D(e))return[e];let n=[],r=0,t=0,a="";for(let s=0,o=e.length;s<o;s++){const i=e[s];if(i==="(")r+=1;else if(i===")")r-=1;else if(i==="[")t+=1;else if(i==="]")t-=1;else if(i===","&&!r&&!t){n.push(a.trim()),a="";continue}a+=i}return n.push(a.trim()),n},m=Object.values(u),y=new RegExp(`:(${m.join("|")})`),x=new RegExp(`:(${m.join("|")})`,"g"),h=new Set,E=e=>{h.has(e)||(console.warn(e),h.add(e))},j=(e,n)=>O.some(r=>e.endsWith(`${r}:${n}`)),C=({cssText:e,selectorText:n},r)=>e.replace(n,T(n).flatMap(t=>{if(t.includes(".pseudo-"))return[];if(!y.test(t))return[t];const a=[],s=t.replace(x,(c,l)=>(a.push(l),"")),o=a.reduce((c,l)=>j(t,l)?"":c.replace(new RegExp(`:${l}`,"g"),`.pseudo-${l}`),t);if(t.startsWith(":host(")||t.startsWith("::slotted("))return[t,o].filter(Boolean);const i=r?`:host(${a.map(c=>`.pseudo-${c}`).join("")}) ${s}`:`${a.map(c=>`.pseudo-${c}`).join("")} ${s}`;return[t,o,i].filter(c=>c&&!c.includes(":not()"))}).join(", ")),L=(e,n,r)=>{if(!e.__pseudoStatesRewritten){e.__pseudoStatesRewritten=!0;try{let t=-1;for(const a of e.cssRules){if(t++,!("selectorText"in a))continue;const s=a;if(y.test(s.selectorText)){const o=C(s,n);e.deleteRule(t),e.insertRule(o,t),n&&r&&r.add(n.host)}if(t>1e3){E("Reached maximum of 1000 pseudo selectors per sheet, skipping the rest.");break}}}catch(t){String(t).includes("cssRules")?E(`Can't access cssRules, likely due to CORS restrictions: ${e.href}`):console.error(t,e.href)}}},f=b.getChannel(),p=new Set,_=(e,n)=>{Object.values(u).forEach(r=>e.classList.remove(`pseudo-${r}`)),n.forEach(r=>e.classList.add(r))},P=(e,n)=>{const r=new Map([[e,new Set]]),t=(a,s)=>r.set(a,new Set([...r.get(a)||[],s]));Object.entries(n||{}).forEach(([a,s])=>{typeof s=="boolean"?s&&t(e,a):typeof s=="string"?e.querySelectorAll(s).forEach(o=>t(o,a)):Array.isArray(s)&&s.forEach(o=>e.querySelectorAll(o).forEach(i=>t(i,a)))}),r.forEach((a,s)=>{const o=new Set;a.forEach(i=>u[i]&&o.add(`pseudo-${u[i]}`)),_(s,o)})},v=e=>{const n=new Set;for(let r=e.parentElement;r;r=r.parentElement)r.className&&r.className.split(" ").filter(t=>t.indexOf("pseudo-")===0).forEach(t=>n.add(t));_(e,n)},k=(e,{viewMode:n,parameters:r,id:t,globals:a})=>{const{pseudo:s}=r,{pseudo:o}=a,i=A(()=>n==="docs"?document.getElementById(`story--${t}`):document.getElementById("storybook-root")||document.getElementById("root"),[n,t]);return S(()=>{s!==o&&n==="story"&&f.emit($,{globals:{pseudo:s}})},[s,n]),S(()=>{if(!i)return;const c=setTimeout(()=>{P(i,o||s),p.forEach(v)},0);return()=>clearTimeout(c)},[i,o,s]),e()},d=e=>{var r;let n=Array.from(e?e.styleSheets:document.styleSheets);(r=e==null?void 0:e.adoptedStyleSheets)!=null&&r.length&&(n=e.adoptedStyleSheets),n.forEach(t=>L(t,e,p))};f.on(R,()=>p.clear());f.on(w,()=>d());f.on(g,()=>d());Element.prototype.attachShadow&&(Element.prototype._attachShadow=Element.prototype.attachShadow,Element.prototype.attachShadow=function(n){const r=this._attachShadow({...n,mode:"open"});return requestAnimationFrame(()=>{d(r),v(r.host)}),r});var B=[k];export{B as decorators};
//# sourceMappingURL=preview-a62cc3b2.js.map
